# Google Analytics 4 (GA4) 설정 가이드

## 🎯 개요

Studio Soop Seoul 예약 시스템에 Google Analytics 4가 설정되어 있습니다. 웹사이트 트래픽, 사용자 행동, 비즈니스 지표를 추적할 수 있습니다.

## 📊 현재 설정된 트래킹

### 자동 트래킹

- **페이지 뷰**: 모든 페이지 방문 자동 추적
- **세션**: 사용자 세션 길이 및 빈도
- **사용자 경로**: 사이트 내 이동 패턴

### 커스텀 이벤트

- **KYC 신청 완료**: `kyc_form_submit`
- **예약 완료**: `reservation_submit`

## 🔧 설정 방법

### 1. Google Analytics 계정 설정

1. [Google Analytics](https://analytics.google.com/) 접속
2. 계정 생성 또는 기존 계정 선택
3. 속성 생성 (GA4 선택)
4. **측정 ID 확인**: `G-XXXXXXXXXX` 형태

### 2. 환경변수 확인

`.env.local` 파일에 이미 설정됨:

```env
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=G-MNERYX6FMN
```

### 3. 추가 이벤트 트래킹 방법

새로운 이벤트를 추가하려면:

```typescript
import { event } from "@/lib/gtag";

// 이벤트 트래킹 예시
event({
  action: "button_click",
  category: "engagement",
  label: "Header CTA",
  value: 1,
});
```

## 📈 주요 지표 확인 방법

### Google Analytics 대시보드에서:

1. **실시간 보고서**

   - 현재 활성 사용자
   - 실시간 페이지 뷰

2. **획득 보고서**

   - 트래픽 소스 (직접 방문, 검색, SNS 등)
   - 캠페인 성과

3. **참여도 보고서**

   - 페이지별 조회수
   - 세션 지속 시간
   - 이벤트 수

4. **전환 보고서**
   - KYC 신청 완료율
   - 예약 완료율

## 🎯 비즈니스 지표

### 핵심 성과 지표 (KPI)

1. **고객 획득**

   - 월별 신규 방문자
   - 트래픽 소스별 품질

2. **고객 전환**

   - KYC 신청 전환율
   - 예약 완료 전환율
   - 페이지별 이탈률

3. **고객 참여**
   - 평균 세션 시간
   - 페이지당 평균 시간
   - 재방문률

## 🔍 모니터링 포인트

### 일일 확인 사항

- [ ] 실시간 사용자 수
- [ ] KYC 신청 이벤트 발생
- [ ] 예약 신청 이벤트 발생

### 주간 분석

- [ ] 주간 방문자 증감
- [ ] 인기 페이지 분석
- [ ] 모바일 vs 데스크톱 비율

### 월간 보고서

- [ ] 월간 전환율 분석
- [ ] 트래픽 소스별 성과
- [ ] 사용자 행동 패턴 변화

## 🚀 최적화 방안

### 성능 개선

1. **페이지 로딩 속도** 모니터링
2. **Core Web Vitals** 지표 추적
3. **사용자 이탈점** 분석

### 전환율 개선

1. **퍼널 분석**: 방문 → KYC → 예약 경로
2. **A/B 테스트**: 버튼 위치, 문구 등
3. **사용자 피드백**: 이탈 지점 분석

## 🛠️ 기술 설정 상세

### 파일 구조

```
src/
├── lib/
│   └── gtag.ts          # GA4 유틸리티 함수
├── components/
│   └── GoogleAnalytics.tsx  # 페이지뷰 트래킹
└── app/
    └── layout.tsx       # GA4 스크립트 로드
```

### 주요 함수

- `pageview(url)`: 페이지 뷰 트래킹
- `event({action, category, label, value})`: 커스텀 이벤트 트래킹

## 📱 모바일 최적화

- 모바일 사용자 행동 패턴 분석
- 터치 이벤트 추가 트래킹 가능
- 모바일 전환율 별도 모니터링

## 🔒 개인정보 보호

- 사용자 개인정보는 수집하지 않음
- 익명화된 행동 데이터만 추적
- GDPR 및 개인정보보호법 준수

## 💡 활용 팁

1. **목표 설정**: GA4에서 전환 목표 설정
2. **세그먼트 활용**: 사용자 그룹별 분석
3. **대시보드**: 중요 지표 모아보기
4. **알림 설정**: 급격한 변화 시 알림

---

📧 **문의사항**: 설정 관련 질문이 있으시면 개발팀에 문의하세요.
